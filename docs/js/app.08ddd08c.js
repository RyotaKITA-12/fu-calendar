(function(){"use strict";var t={3415:function(t,e,s){var n=s(144),r=s(998),a=s(3059),o=function(){var t=this,e=t._self._c;return e(r.Z,[e(a.Z,[e("router-view")],1)],1)},i=[],l={name:"App"},c=l,u=s(1001),d=(0,u.Z)(c,o,i,!1,null,null,null),p=d.exports,h=s(8345),m=s(6190),f=s(3493),g=s(433),v=s(4324),Z=s(5808),y=s(4525),_=s(1289),x=s(9541),b=s(7423),w=s(3687),k=s(6313),S=s(7953),P=function(){var t=this,e=t._self._c;return e(r.Z,{attrs:{id:"inspire"}},[e("Nav"),e(a.Z,{staticClass:"grey lighten-3"},[e(g.Z,[e(b.Z,{attrs:{"min-height":"70vh",rounded:"lg"}},[e(b.Z,{staticClass:"d-flex",attrs:{tile:"",height:"64"}},[e(k.Z,{attrs:{flat:""}},[e(m.Z,{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:t.setToday}},[t._v(" Today ")]),e(m.Z,{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.prev}},[e(v.Z,{attrs:{small:""}},[t._v(" mdi-chevron-left ")])],1),e(m.Z,{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.next}},[e(v.Z,{attrs:{small:""}},[t._v(" mdi-chevron-right ")])],1),t.$refs.calendar?e(S.qW,[t._v(" "+t._s(t.$refs.calendar.title)+" ")]):t._e(),e(w.Z),e(x.Z,{attrs:{bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:n}){return[e(m.Z,t._g(t._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",n,!1),s),[e("span",[t._v(t._s(t.typeToLabel[t.type]))]),e(v.Z,{attrs:{right:""}},[t._v(" mdi-menu-down ")])],1)]}}])},[e(Z.Z,[e(y.Z,{on:{click:function(e){t.type="day"}}},[e(_.V9,[t._v("Day")])],1),e(y.Z,{on:{click:function(e){t.type="week"}}},[e(_.V9,[t._v("Week")])],1),e(y.Z,{on:{click:function(e){t.type="month"}}},[e(_.V9,[t._v("Month")])],1)],1)],1)],1)],1),e(b.Z,{attrs:{height:"600"}},[e(f.Z,{ref:"calendar",attrs:{type:t.type,events:t.events,"event-overlap-mode":t.mode,"event-overlap-threshold":30},model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}})],1)],1)],1)],1)],1)},C=[],I=s(5716),O=s(3423),R=s(5495),N=s(982),U=s(4611),j=s(2540),E=function(){var t=this,e=t._self._c;return e(I.Z,{attrs:{app:"",color:"white",flat:""}},[e(g.Z,{staticClass:"py-0 fill-height"},[e(R.Z,{attrs:{"max-height":"50","max-width":"200",src:s(6949)}}),e(w.Z),e(m.Z,{attrs:{to:"/",text:""}},[e(v.Z,[t._v("mdi-home-account")]),t._v(" MYPAGE ")],1),e("div",{staticClass:"text-center"},[e(x.Z,{attrs:{"open-on-hover":"",top:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:n}){return[e(m.Z,t._g(t._b({attrs:{text:""}},"v-btn",n,!1),s),[e(v.Z,[t._v("mdi-account-cog")]),t._v(" FRIEND ")],1)]}}])},[e(Z.Z,[e(j.Z,[t._v("FRIEND")]),e(N.Z,t._l(t.friends,(function(s,n){return e(y.Z,{key:n,attrs:{to:s.link}},[e(U.Z,[e(v.Z,{domProps:{textContent:t._s(s.icon)}})],1),e(_.km,[e(_.V9,{domProps:{textContent:t._s(s.text)}})],1)],1)})),1)],1)],1)],1),e("div",{staticClass:"text-center"},[e(x.Z,{attrs:{"open-on-hover":"",top:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:n}){return[e(m.Z,t._g(t._b({attrs:{text:""}},"v-btn",n,!1),s),[e(v.Z,[t._v("mdi-magnify")]),t._v(" SEARCH ")],1)]}}])},[e(Z.Z,[e(j.Z,[t._v("SEARCH")]),e(N.Z,t._l(t.searchs,(function(s,n){return e(y.Z,{key:n,attrs:{to:s.link}},[e(U.Z,[e(v.Z,{domProps:{textContent:t._s(s.icon)}})],1),e(_.km,[e(_.V9,{domProps:{textContent:t._s(s.text)}})],1)],1)})),1)],1)],1)],1),e(m.Z,{attrs:{color:"red",text:""},on:{click:t.signOut}},[e(v.Z,[t._v("mdi-logout")]),t._v(" LOGOUT ")],1),e(O.Z,{staticClass:"mr-10",staticStyle:{"margin-left":"20px"},attrs:{color:"grey darken-1",size:"48"}},[e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/jpg, image/jpeg, image/png"},on:{change:t.updateIcon}}),t.photoUrl?t._e():e(v.Z,{attrs:{dark:""},on:{click:t.changeIcon}},[t._v(" mdi-account-circle ")]),t.photoUrl?e("img",{attrs:{src:t.photoUrl},on:{click:t.changeIcon}}):t._e()],1)],1)],1)},M=[],A=s(8844);const T={apiKey:"AIzaSyBRrMJIQPsP3X8ul77SEoFtrcGT-ID7ndQ",authDomain:"fu-calendar-9acef.firebaseapp.com",projectId:"fu-calendar-9acef",storageBucket:"fu-calendar-9acef.appspot.com",messagingSenderId:"58740389288",appId:"1:58740389288:web:cb8e51e15153d84e6a999d",measurementId:"G-HNXD2RKBW7"};A.Z.initializeApp(T);var $=A.Z,D={name:"App",data:()=>({friends:[{icon:"mdi-account",text:"友達の管理",link:"/friend"},{icon:"mdi-account-multiple",text:"グループの管理",link:"/group"}],searchs:[{icon:"mdi-clock",text:"日時から検索",link:"/search/date"},{icon:"mdi-account-search",text:"友達から検索",link:"/search/friend"}],auth:null,photoUrl:""}),mounted(){this.auth=JSON.parse(sessionStorage.getItem("user")),console.log(this.auth.photoURL),this.photoUrl=this.auth.photoURL},methods:{signOut(){$.auth().signOut().then((()=>{localStorage.message="ログアウトに成功しました",this.$router.push("/signin")}))},changeIcon(){this.$refs.fileInput.click()},getAuth(){return $.auth().onAuthStateChanged((t=>t))},updateIcon(){const t=this.getAuth();t||(sessionStorage.removeItem("user"),this.$router.push("/signin"));const e=this.$refs.fileInput.files[0],s=JSON.parse(sessionStorage.getItem("user")),n=`/user/icon/${s.email}`;$.storage().ref().child(n).put(e).then((async t=>{const e=await t.ref.getDownloadURL();$.auth().onAuthStateChanged((t=>{t&&t.updateProfile({photoURL:e})})),this.auth.photoURL=e,sessionStorage.setItem("user",JSON.stringify(this.auth)),this.photoUrl=e}))}}},L=D,q=(0,u.Z)(L,E,M,!1,null,null,null),B=q.exports,F={components:{Nav:B},data:()=>({focus:"",type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day"},mode:"column",value:""}),mounted(){this.$refs.calendar.checkChange()},methods:{setToday(){this.focus=""},prev(){this.$refs.calendar.prev()},next(){this.$refs.calendar.next()}}},W=F,z=(0,u.Z)(W,P,C,!1,null,null,null),G=z.exports,J=function(){var t=this,e=t._self._c;return e(r.Z,{attrs:{id:"inspire"}},[e("Nav")],1)},V=[],H={components:{Nav:B}},K=H,Q=(0,u.Z)(K,J,V,!1,null,null,null),X=Q.exports,Y=function(){var t=this,e=t._self._c;return e(r.Z,{attrs:{id:"inspire"}},[e("Nav")],1)},tt=[],et={components:{Nav:B}},st=et,nt=(0,u.Z)(st,Y,tt,!1,null,null,null),rt=nt.exports,at=function(){var t=this,e=t._self._c;return e(r.Z,{attrs:{id:"inspire"}},[e("Nav")],1)},ot=[],it={components:{Nav:B}},lt=it,ct=(0,u.Z)(lt,at,ot,!1,null,null,null),ut=ct.exports,dt=function(){var t=this,e=t._self._c;return e(r.Z,{attrs:{id:"inspire"}},[e("Nav")],1)},pt=[],ht={components:{Nav:B}},mt=ht,ft=(0,u.Z)(mt,dt,pt,!1,null,null,null),gt=ft.exports,vt=s(7359),Zt=s(9582),yt=s(4886),_t=s(9223),xt=s(5125),bt=s(8088),wt=function(){var t=this,e=t._self._c;return e(r.Z,{staticStyle:{"margin-top":"50px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("br"),e("img",{attrs:{width:"200px",src:s(6949)}}),e("br"),e("br")]),e(Zt.Z,{staticClass:"mx-auto mt-5 blue-grey--text text--darken-2",attrs:{width:"400px"}},[e(yt.EB,{staticClass:"justify-center"},[e("h1",{staticClass:"display-1"},[t._v("新規登録")])]),e(_t.Z),e(yt.ZB,[e(xt.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(bt.Z,{attrs:{"prepend-icon":"mdi-account",label:"User ID",rules:t.userIdRules,required:""},model:{value:t.user_id,callback:function(e){t.user_id=e},expression:"user_id"}}),e(bt.Z,{attrs:{"prepend-icon":"mdi-email",label:"Email",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(bt.Z,{attrs:{type:t.showPassword?"text":"password","prepend-icon":"mdi-lock","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",label:"Password",rules:t.passwordRules,required:""},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(yt.h7,{staticClass:"justify-center"},[e(m.Z,{staticClass:"info",attrs:{disabled:!t.valid},on:{click:t.submit}},[t._v("登録")])],1),t.errorMessage?e(vt.Z,{staticStyle:{"text-align":"center","margin-top":"30px"},attrs:{dense:"",outlined:"",type:"error",elevation:"1"}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e()],1)],1),e(_t.Z),e("br"),e("p",{staticClass:"text-center"},[t._v("すでにアカウントを"),e("br"),t._v("お持ちの方は"),e("router-link",{attrs:{to:"/signin"}},[t._v("こちら")])],1)],1)],1)},kt=[],St={name:"Signup",data:function(){return{showPassword:!1,user_id:"",userIdRules:[t=>!!t||"ユーザIDを入力してください",t=>6<=t.length||"6文字以上で入力してください"],email:"",emailRules:[t=>!!t||"メールアドレスを入力してください",t=>/.+@.+/.test(t)||"不正なメールアドレスです"],password:"",password_confirm:"",passwordRules:[t=>!!t||"パスワードを入力してください",t=>7<=t.length||"8文字以上で入力してください"],errorMessage:""}},computed:{},methods:{submit(){A.Z.auth().createUserWithEmailAndPassword(this.email,this.password).then((async t=>{await t.user.updateProfile({displayName:this.user_id}),console.log(t.user),localStorage.message="ユーザの新規作成に成功しました",this.$router.push("/signin")})).catch((t=>{this.errorMessage="ユーザの新規作成に失敗しました"}))}}},Pt=St,Ct=(0,u.Z)(Pt,wt,kt,!1,null,null,null),It=Ct.exports,Ot=function(){var t=this,e=t._self._c;return e(r.Z,{staticStyle:{"margin-top":"50px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("br"),e("img",{attrs:{width:"200px",src:s(6949)}}),e("br"),e("br")]),e(Zt.Z,{staticClass:"mx-auto mt-5 blue-grey--text text--darken-2",attrs:{width:"400px"}},[e(yt.EB,{staticClass:"justify-center"},[e("h1",{staticClass:"display-1"},[t._v("ログイン")])]),e(_t.Z),e(yt.ZB,[e(xt.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(bt.Z,{attrs:{"prepend-icon":"mdi-email",label:"Email",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(bt.Z,{attrs:{type:t.showPassword?"text":"password","prepend-icon":"mdi-lock","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",label:"Password",rules:t.passwordRules,required:""},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e(yt.h7,{staticClass:"justify-center"},[e(m.Z,{staticClass:"info",attrs:{disabled:!t.valid},on:{click:t.submit}},[t._v("ログイン")])],1),t.message?e(vt.Z,{staticStyle:{"text-align":"center","margin-top":"30px"},attrs:{dense:"",text:"",type:"success"}},[t._v(" "+t._s(t.message)+" ")]):t._e(),t.errorMessage?e(vt.Z,{staticStyle:{"text-align":"center","margin-top":"30px"},attrs:{dense:"",outlined:"",type:"error",elevation:"1"}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e()],1)],1),e(_t.Z),e("br"),e("p",{staticClass:"text-center"},[t._v("アカウントを"),e("br"),t._v("お持ちでない方は"),e("router-link",{attrs:{to:"/signup"}},[t._v("こちら")])],1)],1)],1)},Rt=[],Nt={name:"Signin",data:function(){return{showPassword:!1,email:"",emailRules:[t=>!!t||"メールアドレスを入力してください",t=>/.+@.+/.test(t)||"不正なメールアドレスです"],password:"",passwordRules:[t=>!!t||"パスワードを入力してください",t=>7<=t.length||"8文字以上で入力してください"],message:"",errorMessage:""}},mounted(){localStorage.message&&(this.message=localStorage.message,localStorage.message="")},computed:{},methods:{submit(){$.auth().signInWithEmailAndPassword(this.email,this.password).then((t=>{const e={displayName:t.user.displayName,email:t.user.email,uid:t.user.uid,refreshToken:t.user.refreshToken,photoURL:t.user.photoURL};sessionStorage.setItem("user",JSON.stringify(e)),this.$router.push("/")})).catch((t=>{console.log("fail"),this.errorMessage="ログインに失敗しました"}))}}},Ut=Nt,jt=(0,u.Z)(Ut,Ot,Rt,!1,null,null,null),Et=jt.exports;n.ZP.use(h.Z);const Mt=[{path:"/",name:"home",component:G,meta:{requiresAuth:!0}},{path:"/friend",name:"Friend",component:X},{path:"/group",name:"Group",component:rt},{path:"/search/date",name:"SearchDate",component:ut},{path:"/search/friend",name:"SearchFriend",component:gt},{path:"/signin",name:"SignIn",component:Et},{path:"/signup",name:"SignUp",component:It}],At=new h.Z({mode:"history",base:"/",routes:Mt});At.beforeEach(((t,e,s)=>{const n=t.matched.some((t=>t.meta.requiresAuth));n?$.auth().onAuthStateChanged((e=>{e?s():s({path:"/signin",query:{redirect:t.fullPath}})})):s()}));var Tt=At,$t=s(1705);n.ZP.use($t.Z);var Dt=new $t.Z({});n.ZP.config.productionTip=!1,new n.ZP({router:Tt,vuetify:Dt,render:t=>t(p)}).$mount("#app")},6949:function(t,e,s){t.exports=s.p+"img/logo.bcc4f49c.png"}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=t,function(){var t=[];s.O=function(e,n,r,a){if(!n){var o=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],a=t[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(t){return s.O[t](n[l])}))?n.splice(l--,1):(i=!1,a<o&&(o=a));if(i){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[n,r,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,a,o=n[0],i=n[1],l=n[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(l)var u=l(s)}for(e&&e(n);c<o.length;c++)a=o[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(u)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(3415)}));n=s.O(n)})();
//# sourceMappingURL=app.08ddd08c.js.map